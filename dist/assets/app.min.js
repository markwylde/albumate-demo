/*! Albumate 2014-05-29 */
"use strict";angular.module("albumateApp",["ngRoute","ngSanitize","ui.bootstrap"]).value("dataURL","data/example.data.json").config(["$routeProvider",function(a){a.when("/",{templateUrl:"views/home/home.html"}).when("/artist/list",{controller:"ArtistListCtrl",templateUrl:"views/artist/list.html"}).when("/artist/view/:index",{controller:"ArtistViewCtrl",templateUrl:"views/artist/view.html"}).otherwise({redirectTo:"/"})}]).filter("tidyAuthor",function(){return function(a){return a.match(/\((.+?)\)/)[1]}}).filter("htmlToPlaintext",function(){return function(a){return String(a).replace(/<[^>]+>/gm,"")}}),angular.module("albumateApp").controller("ArtistListCtrl",["$scope","dataAPI",function(a,b){a.entries={items:[],totalItems:0,pageNumber:1,itemsPerPage:5},a.refresh=function(){b.search(a.entries.pageNumber,a.entries.itemsPerPage).then(function(b){a.entries=b})},a.refresh()}]),angular.module("albumateApp").directive("albuHeaderBar",function(){return{restrict:"E",scope:{selected:"@selected"},link:function(){},templateUrl:"views/headerbar/headerbar.html"}}),angular.module("albumateApp").directive("artistListEntry",function(){return{restrict:"E",scope:{entryIndex:"@",songTitle:"@",artist:"@",time:"@",album:"@"},link:function(){},templateUrl:"views/listentry/listentry.html"}}),angular.module("albumateApp").factory("dataAPI",["$q","$http","dataURL",function(a,b,c){return new function(){this.search=function(d,e){var f=a.defer();return b.get(c).success(function(a){var b={items:a.slice(d*e-e,d*e),totalItems:a.length,pageNumber:d,itemsPerPage:e};f.resolve(b)}).error(function(a,b,c,d){console.log(b),f.reject([a,b,c,d])}),f.promise}}}]);