/*! Flickular 2014-05-25 */
"use strict";angular.module("flickularApp",["ngRoute","ngSanitize","ui.bootstrap"]).value("flickrURL","http://api.flickr.com/services/feeds/photos_public.gne?tags=potato&tagmode=all&format=json&jsoncallback=JSON_CALLBACK").config(["$routeProvider",function(a){a.when("/",{templateUrl:"views/home/home.html"}).when("/flickr/list",{controller:"FlickrListCtrl",templateUrl:"views/flickr/list.html"}).when("/flickr/view/:index",{controller:"FlickrViewCtrl",templateUrl:"views/flickr/view.html"}).otherwise({redirectTo:"/"})}]).filter("tidyAuthor",function(){return function(a){return a.match(/\((.+?)\)/)[1]}}).filter("htmlToPlaintext",function(){return function(a){return String(a).replace(/<[^>]+>/gm,"")}}),angular.module("flickularApp").controller("FlickrListCtrl",["$scope","flickrAPI",function(a,b){a.entries=[],a.refresh=function(){b.search().then(function(b){a.entries=b.items})},a.refresh()}]).controller("FlickrViewCtrl",["$scope","$routeParams","flickrAPI",function(a,b,c){a.refresh=function(){c.search().then(function(c){a.entry=c.items[b.index]})},a.refresh()}]),angular.module("flickularApp").directive("flkaHeaderBar",function(){return{restrict:"E",scope:{selected:"@selected"},link:function(){},templateUrl:"views/headerbar/headerbar.html"}}),angular.module("flickularApp").directive("flkaListEntry",function(){return{restrict:"E",scope:{entryIndex:"@",postTitle:"@",published:"@",author:"@",authorId:"@",thumb:"@",flickrLink:"@"},link:function(){},templateUrl:"views/listentry/listentry.html"}}),angular.module("flickularApp").factory("flickrAPI",["$q","$http","flickrURL",function(a,b,c){return new function(){this.search=function(){var d=a.defer();return b.jsonp(c).success(function(a){d.resolve(a)}).error(function(a,b,c,e){d.reject([a,b,c,e])}),d.promise}}}]);